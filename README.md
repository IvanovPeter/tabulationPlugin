# Code Formatter

## Использование расширения
  #### Установка: список расширениЙ -> Install from VSIX -> выбрать нужный vsix файл
  #### Активация расширения происходит командой `>refactorCode`

## Описание основных файлов в директории:
  1. *extension.js* - главный файл расширения. Содержит код на языке javascript, который определяет поведение и функциональность расширения, включая регистрацию команд, обработку событий, взаимодействие с редактором и другие функции, необходимые для расширения возможностей редактора.
  2. *pluginMain.cpp* - файл содержит алгоритм на языке C++, не требуется для сборки или работы плагина. Нужен для тестирования или дебага.
  3. *package.json* -  это файл конфигурации, который содержит метаданные о проекте, такие как название, версия, зависимости, скрипты для запуска, авторы, лицензия и другую информацию. Он используется для управления пакетами, описания зависимостей и запуска сценариев с помощью npm.
  4. *keybindings.json* - файл конфигурации, который содержит настройки комбинаций клавиш для вызова команд
  5. *jsconfig.json* - это файл конфигурации для проектов JavaScript. Он позволяет настраивать параметры окружения и проверки кода JavaScript, такие как определение корневой директории проекта, включение или исключение файлов из анализа


## Описание идеи алгоритма, форматирующего код:
 1. Считать требующий исправления код в переменную text.
 2.	Отметить индексы всех лишних пробелов в тексте (подряд идущие пробелы, пробелы в начале строки, пробелы в конце строки): ignore[index] = true
 3. Отметить индексы всех неизменяемых символов в тексте (инициализация строк, однострочные и многострочные комментарии): immutableSymbols[index] = true
 4.	Удалить из текста все игнорируемые символы и оставить неизменяемые, обновив значение переменной text.
 5.	Разделить текст на строки, при этом не разделяя неизменяемые интервалы и записать в массив строк stringsPartition.
 6.	Для каждой строки определить логический уровень вложенности и в зависимости от него расставить корректную табуляцию.
 7.	Вернуть изменённый код.

## Документация к основному алгоритму в *extension.js*
1. ### `function isSpace(c)`
    Определяет, является ли символ c пробельным символом.
   Аргумент | Тип данных
   ---------|--------------
   c        | char (символ)
   
   Возвращаемое значение|
   ---------------------|
   bool (логический тип)|
2. ### `function isEndOfLine`
    Определяет, является ли символ символом переноса строки, поддерживает типы переноса CR, LF, и CRLF
   Аргумент | Тип данных
   ---------|--------------
   c        | char (символ)
   
   Возвращаемое значение|
   ---------------------|
   bool (логический тип)|
3. ### `function isNewEndOfLine`
   Определяет, является ли символ символом окончания строки в синтаксисе языков C и C++
   Аргумент | Тип данных
   ---------|--------------
   c        | char (символ)
   
   Возвращаемое значение|
   ---------------------|
   bool (логический тип)|
4. ### `function removeExtraSpaceSymbols(countOfSymbols, text, ignore)`
   Отмечает индексы всех лишних пробелов в тексте (подряд идущие пробелы, пробелы в начале строки, пробелы в конце строки)
   Аргумент       | Тип данных
   ---------------|--------------
   countOfSymbols | int (целое число)
   text           | string (строка, либо массив символов в случае C++)
   ignore         | bool[] (массив bool'ов)
   
   
   Возвращаемое значение|
   ---------------------|
   void (отсутствует)   |
5. ### `function setImmutableSymbols(countOfSymbols, text, immutableSymbols)`
   Отмечает неизменияемые символы в тексте (инициализация строк, однострочные и многострочные комментарии)
   Аргумент         | Тип данных
   -----------------|--------------
   countOfSymbols   | int (целое число)
   text             | string (строка, либо массив символов в случае C++)
   immutableSymbols | bool[] (массив bool'ов)
   
   
   Возвращаемое значение|
   ---------------------|
   void (отсутствует)   |
6. ### `function refactorText(countOfSymbols, text, ignore, immutableSymbols)`
    Записывает в переменную *newText* все символы из *text*, которые не игнорируемые, либо которые неизменяемые
    Аргумент         | Тип данных
   -----------------|--------------
   countOfSymbols   | int (целое число)
   text             | string (строка, либо массив символов в случае C++)
   ignore           | bool[] (массив bool'ов)
   immutableSymbols | bool[] (массив bool'ов)
   
   
   Возвращаемое значение                              |
   ---------------------------------------------------|
   string (строка, либо массив символов в случае C++) |
7. ### `function partitionTextToLines(countOfSymbols, text, immutableSymbols, stringsPartition)`
   Разделяет и записывает текст в массив строк, опираясь на синтаксические символы конца строки либо общие символы перевода строк
   Аргумент         | Тип данных
   -----------------|--------------
   countOfSymbols   | int (целое число)
   text             | string (строка, либо массив символов в случае C++)
   immutableSymbols | bool[] (массив bool'ов)
   stringsPartition | char[][] (массив из массивов символов)
   
   
   Возвращаемое значение|
   ---------------------|
   void (отсутствует)   |
8. ### `function setLevelOfNesting(countOfStrings, stringsPartition, setLevelOfNesting)`
   Определяет логический уровень вложенности, опираясь на символы '{' и '}' (исходя из синтаксических особенностей языков C и C++)
   Аргумент          | Тип данных
   ------------------|--------------
   countOfStrings    | int (целое число)
   stringsPartition  | char[][] (массив из массивов символов)
   setLevelOfNesting | int[]
   
   
   Возвращаемое значение|
   ---------------------|
   void (отсутствует)   |
9. ### `function mainFunc(text)`
   Основная вызываемая функция алгоритма.
   Описание использумых переменных:
   Название         | Тип      | Описание
   -----------------|----------|---------
   text             | string   | Текст, считанный либо уже изменённый (на разных этапах выполнения)
   countOfSymbols   | int      | Количество символов в тексте (размер строки text)
   ignore           | bool[]   | Если ignore[i] == true, то символ с номером i считается игнорируемым
   immutableSymbols | bool[]   | Если immutableSymbols[i] == true, то символ с номером i считается неизменяемым
   stringsPartition | char[][] | Текст, разделённый на строки
   countOfstrings   | int      | Количество строк в разбиении (размер массива stringsPartition)
   LevelOFNesting   | int[]    | В LevelOfNesting[i] хранится уровень вложенности i-й строки из разбиения
   newTextArray     | string[] | Вспомогательный массив строк, используемый для правильного склеивания строк в конце работы программы
10. ### `function activate(context)`
    Основная функция расширения.
    Используется при активации команды `>refactorCode` и при вызове `mainFunc(text)`. Также считывает текст из активного редактора и заменяет его на отформатированный
   
  
    
   
